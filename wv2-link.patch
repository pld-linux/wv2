--- wv2-0.4.2/CMakeLists.txt.orig	2009-10-31 19:22:43.000000000 +0100
+++ wv2-0.4.2/CMakeLists.txt	2011-04-30 17:17:11.478499119 +0200
@@ -19,7 +19,8 @@
 
 SET( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${wvWare_SOURCE_DIR}/cmake )
 
-FIND_PACKAGE( GLIB2 REQUIRED )
+include(FindPkgConfig)
+pkg_check_modules(GLIB2 REQUIRED glib-2.0 gobject-2.0)
 
 FIND_PACKAGE( LIBGSF REQUIRED )
 
@@ -34,7 +35,7 @@
   FIND_PACKAGE( ZLIB REQUIRED )
 ENDIF( WITH_ZLIB )
 
-INCLUDE_DIRECTORIES( ${GLIB2_INCLUDE_DIR} ${LIBGSF_INCLUDE_DIR} ${ICONV_INCLUDE_DIR} ${ZLIB_INCLUDE_DIR} )
+INCLUDE_DIRECTORIES( ${GLIB2_INCLUDE_DIRS} ${LIBGSF_INCLUDE_DIR} ${ICONV_INCLUDE_DIR} ${ZLIB_INCLUDE_DIR} )
 
 #
 # Iconv checks
@@ -154,7 +155,7 @@
 
 IF( GLIB2_FOUND )
   SET( _WV2_LDFLAGS ${_WV2_LDFLAGS} ${GLIB2_LIBRARIES} )
-  SET( _WV2_CFLAGS ${_WV2_CFLAGS} ${GLIB2_INCLUDE_DIR} )
+  SET( _WV2_CFLAGS ${_WV2_CFLAGS} ${GLIB2_INCLUDE_DIRS} )
 ENDIF( GLIB2_FOUND )
 
 #
